import { CommonModule } from '@angular/common';
import { Component, inject, OnInit } from '@angular/core';
import {
  FormBuilder,
  FormGroup,
  FormsModule,
  ReactiveFormsModule,
  Validators,
} from '@angular/forms';
import {
  IonButton,
  IonCol,
  IonGrid,
  IonIcon,
  IonLabel,
  IonRow,
} from '@ionic/angular/standalone';
import { addIcons } from 'ionicons';
import {
  addOutline,
  alarmOutline,
  albumsOutline,
  alertOutline,
  analyticsOutline,
  apertureOutline,
  appsOutline,
  archiveOutline,
  arrowBackOutline,
  arrowDownOutline,
  arrowForwardOutline,
  arrowUpOutline,
  atOutline,
  attachOutline,
  backspaceOutline,
  bagOutline,
  barChartOutline,
  barcodeOutline,
  batteryChargingOutline,
  batteryDeadOutline,
  batteryFullOutline,
  bedOutline,
  beerOutline,
  bicycleOutline,
  bluetoothOutline,
  boatOutline,
  bodyOutline,
  bonfireOutline,
  bookOutline,
  bookmarkOutline,
  briefcaseOutline,
  brushOutline,
  bugOutline,
  buildOutline,
  busOutline,
  businessOutline,
  cafeOutline,
  calculatorOutline,
  calendarOutline,
  callOutline,
  cameraOutline,
  carOutline,
  cardOutline,
  cartOutline,
  cashOutline,
  chatbubbleOutline,
  checkmarkOutline,
  checkboxOutline,
  clipboardOutline,
  cloudOutline,
  codeOutline,
  colorPaletteOutline,
  compassOutline,
  constructOutline,
  contrastOutline,
  copyOutline,
  createOutline,
  cubeOutline,
  cutOutline,
  desktopOutline,
  documentOutline,
  downloadOutline,
  earOutline,
  earthOutline,
  eyeOutline,
  fastFoodOutline,
  femaleOutline,
  fileTrayOutline,
  fingerPrintOutline,
  fitnessOutline,
  flagOutline,
  flameOutline,
  flashOutline,
  flaskOutline,
  folderOutline,
  footballOutline,
  gameControllerOutline,
  giftOutline,
  glassesOutline,
  globeOutline,
  gridOutline,
  hammerOutline,
  handLeftOutline,
  happyOutline,
  headsetOutline,
  heartOutline,
  helpOutline,
  homeOutline,
  hourglassOutline,
  iceCreamOutline,
  imageOutline,
  infiniteOutline,
  informationCircleOutline,
  journalOutline,
  keyOutline,
  layersOutline,
  leafOutline,
  linkOutline,
  listOutline,
  lockClosedOutline,
  logInOutline,
  magnetOutline,
  mailOutline,
  manOutline,
  mapOutline,
  medalOutline,
  medicalOutline,
  micOutline,
  moonOutline,
  musicalNotesOutline,
  navigateOutline,
  notificationsOutline,
  paperPlaneOutline,
  partlySunnyOutline,
  pauseOutline,
  pawOutline,
  personOutline,
  phonePortraitOutline,
  pizzaOutline,
  planetOutline,
  playOutline,
  powerOutline,
  printOutline,
  pulseOutline,
  qrCodeOutline,
  rainyOutline,
  readerOutline,
  refreshOutline,
  rocketOutline,
  roseOutline,
  saveOutline,
  schoolOutline,
  searchOutline,
  sendOutline,
  serverOutline,
  settingsOutline,
  shieldCheckmarkOutline,
  shirtOutline,
  shuffleOutline,
  skullOutline,
  snowOutline,
  sparklesOutline,
  starOutline,
  statsChartOutline,
  storefrontOutline,
  sunnyOutline,
  syncOutline,
  tabletPortraitOutline,
  thermometerOutline,
  thumbsUpOutline,
  timeOutline,
  timerOutline,
  trainOutline,
  trashOutline,
  trendingUpOutline,
  trophyOutline,
  umbrellaOutline,
  videocamOutline,
  walletOutline,
  warningOutline,
  waterOutline,
  wifiOutline,
  womanOutline,
} from 'ionicons/icons';

@Component({
  selector: 'app-pessoa-cadastrar',
  templateUrl: './pessoa-cadastrar.page.html',
  styleUrls: ['./pessoa-cadastrar.page.scss'],
  standalone: true,
  imports: [
    IonGrid,
    IonRow,
    IonButton,
    IonIcon,
    IonLabel,
    CommonModule,
    FormsModule,
    IonCol,
    ReactiveFormsModule,
  ],
})
export class PessoaCadastrarPage implements OnInit {
  
  public iconeList: string[] = [
    'addOutline',
    'alarmOutline',
    'albumsOutline',
    'alertOutline',
    'analyticsOutline',
    'apertureOutline',
    'appsOutline',
    'archiveOutline',
    'arrowBackOutline',
    'arrowDownOutline',
    'arrowForwardOutline',
    'arrowUpOutline',
    'atOutline',
    'attachOutline',
    'backspaceOutline',
    'bagOutline',
    'barChartOutline',
    'barcodeOutline',
    'batteryChargingOutline',
    'batteryDeadOutline',
    'batteryFullOutline',
    'bedOutline',
    'beerOutline',
    'bicycleOutline',
    'bluetoothOutline',
    'boatOutline',
    'bodyOutline',
    'bonfireOutline',
    'bookOutline',
    'bookmarkOutline',
    'briefcaseOutline',
    'brushOutline',
    'bugOutline',
    'buildOutline',
    'busOutline',
    'businessOutline',
    'cafeOutline',
    'calculatorOutline',
    'calendarOutline',
    'callOutline',
    'cameraOutline',
    'carOutline',
    'cardOutline',
    'cartOutline',
    'cashOutline',
    'chatbubbleOutline',
    'checkmarkOutline',
    'checkboxOutline',
    'clipboardOutline',
    'cloudOutline',
    'codeOutline',
    'colorPaletteOutline',
    'compassOutline',
    'constructOutline',
    'contrastOutline',
    'copyOutline',
    'createOutline',
    'cubeOutline',
    'cutOutline',
    'desktopOutline',
    'documentOutline',
    'downloadOutline',
    'earOutline',
    'earthOutline',
    'eyeOutline',
    'fastFoodOutline',
    'femaleOutline',
    'fileTrayOutline',
    'fingerPrintOutline',
    'fitnessOutline',
    'flagOutline',
    'flameOutline',
    'flashOutline',
    'flaskOutline',
    'folderOutline',
    'footballOutline',
    'gameControllerOutline',
    'giftOutline',
    'glassesOutline',
    'globeOutline',
    'gridOutline',
    'hammerOutline',
    'handLeftOutline',
    'happyOutline',
    'headsetOutline',
    'heartOutline',
    'helpOutline',
    'homeOutline',
    'hourglassOutline',
    'iceCreamOutline',
    'imageOutline',
    'infiniteOutline',
    'informationCircleOutline',
    'journalOutline',
    'keyOutline',
    'layersOutline',
    'leafOutline',
    'linkOutline',
    'listOutline',
    'lockClosedOutline',
    'logInOutline',
    'magnetOutline',
    'mailOutline',
    'manOutline',
    'mapOutline',
    'medalOutline',
    'medicalOutline',
    'micOutline',
    'moonOutline',
    'musicalNotesOutline',
    'navigateOutline',
    'notificationsOutline',
    'paperPlaneOutline',
    'paperclipOutline',
    'partlySunnyOutline',
    'pauseOutline',
    'pawOutline',
    'personOutline',
    'phonePortraitOutline',
    'pizzaOutline',
    'planetOutline',
    'playOutline',
    'powerOutline',
    'printOutline',
    'pulseOutline',
    'qrCodeOutline',
    'rainyOutline',
    'readerOutline',
    'refreshOutline',
    'rocketOutline',
    'roseOutline',
    'saveOutline',
    'schoolOutline',
    'searchOutline',
    'sendOutline',
    'serverOutline',
    'settingsOutline',
    'shieldCheckmarkOutline',
    'shirtOutline',
    'shuffleOutline',
    'skullOutline',
    'snowOutline',
    'sparklesOutline',
    'starOutline',
    'statsChartOutline',
    'storefrontOutline',
    'sunnyOutline',
    'syncOutline',
    'tabletPortraitOutline',
    'thermometerOutline',
    'thumbsUpOutline',
    'timeOutline',
    'timerOutline',
    'trainOutline',
    'trashOutline',
    'trendingUpOutline',
    'trophyOutline',
    'umbrellaOutline',
    'videocamOutline',
    'walletOutline',
    'warningOutline',
    'waterOutline',
    'wifiOutline',
    'womanOutline',
  ];

  public corList: string[] = [];

  public iconeSelecionado: string | null = null;

  public corSelecionada: string | null = null;

  public categoriaCredencialFormGroup!: FormGroup;

  private formBuilder = inject(FormBuilder);

  constructor() {
    addIcons({
      addOutline,
      alarmOutline,
      albumsOutline,
      alertOutline,
      analyticsOutline,
      apertureOutline,
      appsOutline,
      archiveOutline,
      arrowBackOutline,
      arrowDownOutline,
      arrowForwardOutline,
      arrowUpOutline,
      atOutline,
      attachOutline,
      backspaceOutline,
      bagOutline,
      barChartOutline,
      barcodeOutline,
      batteryChargingOutline,
      batteryDeadOutline,
      batteryFullOutline,
      bedOutline,
      beerOutline,
      bicycleOutline,
      bluetoothOutline,
      boatOutline,
      bodyOutline,
      bonfireOutline,
      bookOutline,
      bookmarkOutline,
      briefcaseOutline,
      brushOutline,
      bugOutline,
      buildOutline,
      busOutline,
      businessOutline,
      cafeOutline,
      calculatorOutline,
      calendarOutline,
      callOutline,
      cameraOutline,
      carOutline,
      cardOutline,
      cartOutline,
      cashOutline,
      chatbubbleOutline,
      checkmarkOutline,
      checkboxOutline,
      clipboardOutline,
      cloudOutline,
      codeOutline,
      colorPaletteOutline,
      compassOutline,
      constructOutline,
      contrastOutline,
      copyOutline,
      createOutline,
      cubeOutline,
      cutOutline,
      desktopOutline,
      documentOutline,
      downloadOutline,
      earOutline,
      earthOutline,
      eyeOutline,
      fastFoodOutline,
      femaleOutline,
      fileTrayOutline,
      fingerPrintOutline,
      fitnessOutline,
      flagOutline,
      flameOutline,
      flashOutline,
      flaskOutline,
      folderOutline,
      footballOutline,
      gameControllerOutline,
      giftOutline,
      glassesOutline,
      globeOutline,
      gridOutline,
      hammerOutline,
      handLeftOutline,
      happyOutline,
      headsetOutline,
      heartOutline,
      helpOutline,
      homeOutline,
      hourglassOutline,
      iceCreamOutline,
      imageOutline,
      infiniteOutline,
      informationCircleOutline,
      journalOutline,
      keyOutline,
      layersOutline,
      leafOutline,
      linkOutline,
      listOutline,
      lockClosedOutline,
      logInOutline,
      magnetOutline,
      mailOutline,
      manOutline,
      mapOutline,
      medalOutline,
      medicalOutline,
      micOutline,
      moonOutline,
      musicalNotesOutline,
      navigateOutline,
      notificationsOutline,
      paperPlaneOutline,
      partlySunnyOutline,
      pauseOutline,
      pawOutline,
      personOutline,
      phonePortraitOutline,
      pizzaOutline,
      planetOutline,
      playOutline,
      powerOutline,
      printOutline,
      pulseOutline,
      qrCodeOutline,
      rainyOutline,
      readerOutline,
      refreshOutline,
      rocketOutline,
      roseOutline,
      saveOutline,
      schoolOutline,
      searchOutline,
      sendOutline,
      serverOutline,
      settingsOutline,
      shieldCheckmarkOutline,
      shirtOutline,
      shuffleOutline,
      skullOutline,
      snowOutline,
      sparklesOutline,
      starOutline,
      statsChartOutline,
      storefrontOutline,
      sunnyOutline,
      syncOutline,
      tabletPortraitOutline,
      thermometerOutline,
      thumbsUpOutline,
      timeOutline,
      timerOutline,
      trainOutline,
      trashOutline,
      trendingUpOutline,
      trophyOutline,
      umbrellaOutline,
      videocamOutline,
      walletOutline,
      warningOutline,
      waterOutline,
      wifiOutline,
      womanOutline,
    });
  }

  ngOnInit() {
    this.gerarCoresAleatorias();
    this.configurarFormulario();
  }

  private getCor(): string {
    const r = Math.floor(Math.random() * 80) + 160;
    const g = Math.floor(Math.random() * 80) + 160;
    const b = Math.floor(Math.random() * 80) + 160;
    const cor = (value: number) => value.toString(16).padStart(2, '0');
    return `#${cor(r)}${cor(g)}${cor(b)}`;
  }

  public gerarCoresAleatorias() {
    for (let index = 0; index < 12; index++) {
      this.corList.push(this.getCor());
    }
  }

  public selecionarIcone(icone: string) {
    this.iconeSelecionado = icone;
    this.categoriaCredencialFormGroup.get('nomeIcone')?.setValue(icone);
  }

  public selecionarCor(cor: string) {
    this.corSelecionada = cor;
    this.categoriaCredencialFormGroup.get('corIcone')?.setValue(cor);
  }

  private configurarFormulario() {
    this.categoriaCredencialFormGroup = this.formBuilder.group({
      descricao: ['', Validators.required],
      nomeIcone: ['', Validators.required],
      corIcone: ['', Validators.required],
    });
  }

  public onCreate() {
    if (this.categoriaCredencialFormGroup.valid) {
      const categoriaCredencialEntity = this.categoriaCredencialFormGroup.value;
      console.log(categoriaCredencialEntity);
    }
  }
}
